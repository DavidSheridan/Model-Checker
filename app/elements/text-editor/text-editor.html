<link rel="import" href="../../../bower_components/polymer/polymer.html">
<link rel="import" href="../../../bower_components/iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../../imports/ace.html">

<dom-module id="text-editor">
  <style>
    :host {
      display: block;
      @apply(--layout-fit);
    }
    #editor{
      box-sizing: border-box;
      width: 100%;
      height: 100%;
    }
  </style>
  <template>
    <div id="editor"></div>
  </template>
</dom-module>
<script>
  (function() {
    Polymer({
      is: 'text-editor',

      properties: {
        /**
         * the text editor
         */
        _editor: {
          type: Object,
          value: function(){
            var editor = ace.edit(this.$.editor);
            editor.setTheme("ace/theme/github");
            editor.getSession().setMode("ace/mode/plain_text"); // syntax highlighting
            return editor;
          }
        }
      },

      /**
       * Get the code the user has provided
       * @return {string} The code
       */
      getCode: function(){
        return this._editor.getValue();
      }
    });
  })();
</script>
