<!doctype html>
<html>
<head>
  <title>graph data structure</title>

  <script src="../../../../bower_components/web-component-tester/browser.js"></script>
  <script src="../scripts/graph.es6.js"></script>

</head>
<body>

  <script>
  suite('Graph Data Structure', function () {
    suite('Positves', function() {
      suite('Adding Nodes', function () {
        test('single node - no extras', function() {
          var g = new Graph();
          g.addNode(0, 'label');

          expect(g.nodeCount).to.equal(1);
          console.log(g.nodes);
          // expect(g.nodes).to.deep.equal([
          //   {graph: g, id: 0, label: 'label', extras: {}}
          // ]);

          expect(g.edgeCount).to.equal(0);
          // expect(g.edges).to.deep.equal([]);

          var node = g.getNode(0);
          var root = g.root;

          assert.strictEqual(node, root);
          expect(node).to.exist;
          expect(node.id).to.equal(0);
          expect(node.label).to.equal('label');
          expect(node.extraData).to.deep.equal({});
        });

        test('single node - extras', function() {
          var g = new Graph();
          var extras = {abc: 123, def: {x: 10, y: 50}};
          g.addNode(0, 'label', extras);

          expect(g.nodeCount).to.equal(1);
          // expect(g.nodes).to.deep.equal([
          //   {graph: g, id: 0, label: 'label', extras: {abc: 123, def: {x: 10, y: 50}}}
          // ]);

          expect(g.edgeCount).to.equal(0);
          // expect(g.edges).to.deep.equal([]);

          var node = g.getNode(0);
          var root = g.root;

          expect(node).to.exist;
          expect(node).to.equal(root);
          expect(node.id).to.equal(0);
          expect(node.label).to.equal('label');
          expect(node.extraData).to.deep.equal(extras);  // deeply equal but
          expect(node.extraData).to.not.equal(extras);   // not strickly equal
        });

        test('multiple nodes', function() {
          var g = new Graph();
          g.addNode(0, 'x');
          g.addNode(1, 'y', {abc:123});

          expect(g.nodeCount).to.equal(2);
          // expect(g.nodes).to.deep.equal([
          //   {graph: g, id: 0, label: 'x', extras: {}},
          //   {graph: g, id: 1, label: 'y', extras: {abc:123}}
          // ]);

          expect(g.edgeCount).to.equal(0);
          // expect(g.edges).to.deep.equal([]);

          var node0 = g.getNode(0);
          var node1 = g.getNode(1);
          var root = g.root;

          expect(node0).to.exist;
          expect(node0).to.equal(root);
          expect(node0.id).to.equal(0);
          expect(node0.label).to.equal('x');

          expect(node1).to.exist;
          expect(node1).to.not.equal(root);
          expect(node1.id).to.equal(1);
          expect(node1.label).to.equal('y');
        });
      });
      suite('Adding Nodes and Edges', function () {
        test('2 connected nodes', function() {
          var g = new Graph();
          var n0 = g.addNode(0, 'x');
          var n1 = g.addNode(1, 'y');
          var e0 = g.addEdge(0, n0, n1, 'e');

          var nodes = g.nodes;
          var edges = g.edges;
          var node0 = g.getNode(0);
          var node1 = g.getNode(1);
          var edge0 = g.getEdge(0);
          var root = g.root;

          expect(g.nodeCount).to.equal(2);
          expect(nodes.length).to.equal(2);
          expect(g.edgeCount).to.equal(1);
          expect(edges.length).to.equal(1);

          expect(node0).to.exist;
          expect(node0).to.equal(n0);
          expect(node0).to.equal(nodes[0]);
          expect(node0).to.equal(root);
          expect(node0.graph).to.equal(g);
          expect(node0.id).to.equal(0);
          expect(node0.label).to.equal('x');
          expect(node0.extraData).to.deep.equal({});

          expect(node1).to.exist;
          expect(node1).to.equal(n1);
          expect(node1).to.not.equal(root);
          expect(node1).to.equal(nodes[1]);
          expect(node1.graph).to.equal(g);
          expect(node1.id).to.equal(1);
          expect(node1.label).to.equal('y');
          expect(node1.extraData).to.deep.equal({});

          expect(edge0).to.exist;
          expect(edge0).to.equal(e0);
          expect(edge0).to.equal(edges[0]);
          expect(edge0.graph).to.equal(g);
          expect(edge0.id).to.equal(0);
          expect(edge0.from).to.equal(node0);
          expect(edge0.to).to.equal(node1);
          expect(edge0.label).to.equal('e');
        });
      });
      suite('Removing Nodes', function () {

      });
      suite('Removing Edges', function () {

      });
      suite('Cloning', function () {

      });
    });
    suite('Negitives', function() {

    });
  });
  </script>

</body>
</html>
