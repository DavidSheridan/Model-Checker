automata {
    A =a->b?->c->STOP || x->b!->z->STOP.

    A2 = (x -> B | a -> x -> C),
        B = (a -> C | b -> (a -> z -> STOP | z -> a -> STOP)),
        C = (b -> (c -> z -> STOP | z -> c -> STOP)).

    A3 = (a -> (b -> B | x -> b -> C)),
        B = (x -> C | c -> x -> STOP),
        C = (c -> STOP).

    A4 = (B||C),
        B = (a?->b->c!->STOP),
        C = (a!->x->c?->STOP).
}

operation {
    A ~ A2.
    A3 ~ A4.
}
